{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { NavbarComponent } from '../navbar/navbar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/process.service\";\nimport * as i3 from \"../../services/role.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction DashboardComponent_section_16_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const process_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(process_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(process_r1.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(process_r1.status);\n  }\n}\nfunction DashboardComponent_section_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Recent Processes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Status\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, DashboardComponent_section_16_tr_13_Template, 7, 3, \"tr\", 4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.processes.slice(0, 5));\n  }\n}\nfunction DashboardComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class DashboardComponent {\n  constructor(authService, processService, roleService, router) {\n    this.authService = authService;\n    this.processService = processService;\n    this.roleService = roleService;\n    this.router = router;\n    this.currentUser = null;\n    this.processes = [];\n    this.roles = [];\n    this.isLoading = false;\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    if (!this.currentUser) {\n      this.router.navigate(['/login']);\n      return;\n    }\n    this.loadData();\n  }\n  loadData() {\n    if (!this.currentUser) return;\n    this.isLoading = true;\n    this.processService.getProcessesByCompany(this.currentUser.companyId).subscribe({\n      next: data => {\n        this.processes = data;\n        this.isLoading = false;\n      },\n      error: () => {\n        this.isLoading = false;\n      }\n    });\n    this.roleService.getRolesByCompany(this.currentUser.companyId).subscribe({\n      next: data => {\n        this.roles = data;\n      }\n    });\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n  goToProcesses() {\n    this.router.navigate(['/processes']);\n  }\n  goToRoles() {\n    this.router.navigate(['/roles']);\n  }\n  goToUsers() {\n    this.router.navigate(['/users']);\n  }\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ProcessService), i0.ɵɵdirectiveInject(i3.RoleService), i0.ɵɵdirectiveInject(i4.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 18,\n      vars: 4,\n      consts: [[1, \"container\"], [1, \"stats\"], [1, \"stat-card\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 0)(2, \"section\")(3, \"h2\");\n          i0.ɵɵtext(4, \"Summary\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 1)(6, \"div\", 2)(7, \"h3\");\n          i0.ɵɵtext(8, \"Total Processes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"p\");\n          i0.ɵɵtext(10);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 2)(12, \"h3\");\n          i0.ɵɵtext(13, \"Total Roles\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"p\");\n          i0.ɵɵtext(15);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(16, DashboardComponent_section_16_Template, 14, 1, \"section\", 3)(17, DashboardComponent_div_17_Template, 2, 0, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate(ctx.processes.length);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.roles.length);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.processes.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        }\n      },\n      dependencies: [CommonModule, i5.NgForOf, i5.NgIf, NavbarComponent],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","NavbarComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","process_r1","name","category","status","ɵɵtemplate","DashboardComponent_section_16_tr_13_Template","ɵɵproperty","ctx_r1","processes","slice","DashboardComponent","constructor","authService","processService","roleService","router","currentUser","roles","isLoading","ngOnInit","getCurrentUser","navigate","loadData","getProcessesByCompany","companyId","subscribe","next","data","error","getRolesByCompany","logout","goToProcesses","goToRoles","goToUsers","ɵɵdirectiveInject","i1","AuthService","i2","ProcessService","i3","RoleService","i4","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","ɵɵelement","DashboardComponent_section_16_Template","DashboardComponent_div_17_Template","length","i5","NgForOf","NgIf","encapsulation"],"sources":["/home/angelem/Public/Proyecto-DesarrolloWeb/frontend/src/app/components/dashboard/dashboard.component.ts","/home/angelem/Public/Proyecto-DesarrolloWeb/frontend/src/app/components/dashboard/dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { AuthService, User } from '../../services/auth.service';\nimport { ProcessService, Process } from '../../services/process.service';\nimport { RoleService, Role } from '../../services/role.service';\nimport { NavbarComponent } from '../navbar/navbar.component';\n\n@Component({\n  selector: 'app-dashboard',\n  standalone: true,\n  imports: [CommonModule, NavbarComponent],\n  templateUrl: './dashboard.component.html'\n})\nexport class DashboardComponent implements OnInit {\n  currentUser: User | null = null;\n  processes: Process[] = [];\n  roles: Role[] = [];\n  isLoading = false;\n\n  constructor(\n    private authService: AuthService,\n    private processService: ProcessService,\n    private roleService: RoleService,\n    private router: Router\n  ) {}\n\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    if (!this.currentUser) {\n      this.router.navigate(['/login']);\n      return;\n    }\n    this.loadData();\n  }\n\n  loadData() {\n    if (!this.currentUser) return;\n    \n    this.isLoading = true;\n    this.processService.getProcessesByCompany(this.currentUser.companyId).subscribe({\n      next: (data) => {\n        this.processes = data;\n        this.isLoading = false;\n      },\n      error: () => {\n        this.isLoading = false;\n      }\n    });\n\n    this.roleService.getRolesByCompany(this.currentUser.companyId).subscribe({\n      next: (data) => {\n        this.roles = data;\n      }\n    });\n  }\n\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n\n  goToProcesses() {\n    this.router.navigate(['/processes']);\n  }\n\n  goToRoles() {\n    this.router.navigate(['/roles']);\n  }\n\n  goToUsers() {\n    this.router.navigate(['/users']);\n  }\n}\n","<app-navbar></app-navbar>\n\n<div class=\"container\">\n\n  <section>\n    <h2>Summary</h2>\n    <div class=\"stats\">\n      <div class=\"stat-card\">\n        <h3>Total Processes</h3>\n        <p>{{ processes.length }}</p>\n      </div>\n      <div class=\"stat-card\">\n        <h3>Total Roles</h3>\n        <p>{{ roles.length }}</p>\n      </div>\n    </div>\n  </section>\n\n  <section *ngIf=\"processes.length > 0\">\n    <h2>Recent Processes</h2>\n    <table>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Category</th>\n          <th>Status</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let process of processes.slice(0, 5)\">\n          <td>{{ process.name }}</td>\n          <td>{{ process.category }}</td>\n          <td>{{ process.status }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n\n  <div *ngIf=\"isLoading\">Loading...</div>\n</div>\n"],"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAK9C,SAASC,eAAe,QAAQ,4BAA4B;;;;;;;;;ICwBlDC,EADF,CAAAC,cAAA,SAAkD,SAC5C;IAAAD,EAAA,CAAAE,MAAA,GAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC3BH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAsB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC/BH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAoB;IAC1BF,EAD0B,CAAAG,YAAA,EAAK,EAC1B;;;;IAHCH,EAAA,CAAAI,SAAA,GAAkB;IAAlBJ,EAAA,CAAAK,iBAAA,CAAAC,UAAA,CAAAC,IAAA,CAAkB;IAClBP,EAAA,CAAAI,SAAA,GAAsB;IAAtBJ,EAAA,CAAAK,iBAAA,CAAAC,UAAA,CAAAE,QAAA,CAAsB;IACtBR,EAAA,CAAAI,SAAA,GAAoB;IAApBJ,EAAA,CAAAK,iBAAA,CAAAC,UAAA,CAAAG,MAAA,CAAoB;;;;;IAb9BT,EADF,CAAAC,cAAA,cAAsC,SAChC;IAAAD,EAAA,CAAAE,MAAA,uBAAgB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAInBH,EAHN,CAAAC,cAAA,YAAO,YACE,SACD,SACE;IAAAD,EAAA,CAAAE,MAAA,WAAI;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACbH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,eAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACjBH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,cAAM;IAEdF,EAFc,CAAAG,YAAA,EAAK,EACZ,EACC;IACRH,EAAA,CAAAC,cAAA,aAAO;IACLD,EAAA,CAAAU,UAAA,KAAAC,4CAAA,gBAAkD;IAOxDX,EAFI,CAAAG,YAAA,EAAQ,EACF,EACA;;;;IAPoBH,EAAA,CAAAI,SAAA,IAAwB;IAAxBJ,EAAA,CAAAY,UAAA,YAAAC,MAAA,CAAAC,SAAA,CAAAC,KAAA,OAAwB;;;;;IAStDf,EAAA,CAAAC,cAAA,UAAuB;IAAAD,EAAA,CAAAE,MAAA,iBAAU;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;ADxBzC,OAAM,MAAOa,kBAAkB;EAM7BC,YACUC,WAAwB,EACxBC,cAA8B,EAC9BC,WAAwB,EACxBC,MAAc;IAHd,KAAAH,WAAW,GAAXA,WAAW;IACX,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAThB,KAAAC,WAAW,GAAgB,IAAI;IAC/B,KAAAR,SAAS,GAAc,EAAE;IACzB,KAAAS,KAAK,GAAW,EAAE;IAClB,KAAAC,SAAS,GAAG,KAAK;EAOd;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACH,WAAW,GAAG,IAAI,CAACJ,WAAW,CAACQ,cAAc,EAAE;IACpD,IAAI,CAAC,IAAI,CAACJ,WAAW,EAAE;MACrB,IAAI,CAACD,MAAM,CAACM,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAChC;;IAEF,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQA,CAAA;IACN,IAAI,CAAC,IAAI,CAACN,WAAW,EAAE;IAEvB,IAAI,CAACE,SAAS,GAAG,IAAI;IACrB,IAAI,CAACL,cAAc,CAACU,qBAAqB,CAAC,IAAI,CAACP,WAAW,CAACQ,SAAS,CAAC,CAACC,SAAS,CAAC;MAC9EC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACnB,SAAS,GAAGmB,IAAI;QACrB,IAAI,CAACT,SAAS,GAAG,KAAK;MACxB,CAAC;MACDU,KAAK,EAAEA,CAAA,KAAK;QACV,IAAI,CAACV,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;IAEF,IAAI,CAACJ,WAAW,CAACe,iBAAiB,CAAC,IAAI,CAACb,WAAW,CAACQ,SAAS,CAAC,CAACC,SAAS,CAAC;MACvEC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACV,KAAK,GAAGU,IAAI;MACnB;KACD,CAAC;EACJ;EAEAG,MAAMA,CAAA;IACJ,IAAI,CAAClB,WAAW,CAACkB,MAAM,EAAE;IACzB,IAAI,CAACf,MAAM,CAACM,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;EAEAU,aAAaA,CAAA;IACX,IAAI,CAAChB,MAAM,CAACM,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACtC;EAEAW,SAASA,CAAA;IACP,IAAI,CAACjB,MAAM,CAACM,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;EAEAY,SAASA,CAAA;IACP,IAAI,CAAClB,MAAM,CAACM,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;;;uBA1DWX,kBAAkB,EAAAhB,EAAA,CAAAwC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAA1C,EAAA,CAAAwC,iBAAA,CAAAG,EAAA,CAAAC,cAAA,GAAA5C,EAAA,CAAAwC,iBAAA,CAAAK,EAAA,CAAAC,WAAA,GAAA9C,EAAA,CAAAwC,iBAAA,CAAAO,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAAlBhC,kBAAkB;MAAAiC,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAAnD,EAAA,CAAAoD,mBAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCd/B1D,EAAA,CAAA4D,SAAA,iBAAyB;UAKrB5D,EAHJ,CAAAC,cAAA,aAAuB,cAEZ,SACH;UAAAD,EAAA,CAAAE,MAAA,cAAO;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAGZH,EAFJ,CAAAC,cAAA,aAAmB,aACM,SACjB;UAAAD,EAAA,CAAAE,MAAA,sBAAe;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACxBH,EAAA,CAAAC,cAAA,QAAG;UAAAD,EAAA,CAAAE,MAAA,IAAsB;UAC3BF,EAD2B,CAAAG,YAAA,EAAI,EACzB;UAEJH,EADF,CAAAC,cAAA,cAAuB,UACjB;UAAAD,EAAA,CAAAE,MAAA,mBAAW;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACpBH,EAAA,CAAAC,cAAA,SAAG;UAAAD,EAAA,CAAAE,MAAA,IAAkB;UAG3BF,EAH2B,CAAAG,YAAA,EAAI,EACrB,EACF,EACE;UAsBVH,EApBA,CAAAU,UAAA,KAAAmD,sCAAA,sBAAsC,KAAAC,kCAAA,iBAoBf;UACzB9D,EAAA,CAAAG,YAAA,EAAM;;;UA9BKH,EAAA,CAAAI,SAAA,IAAsB;UAAtBJ,EAAA,CAAAK,iBAAA,CAAAsD,GAAA,CAAA7C,SAAA,CAAAiD,MAAA,CAAsB;UAItB/D,EAAA,CAAAI,SAAA,GAAkB;UAAlBJ,EAAA,CAAAK,iBAAA,CAAAsD,GAAA,CAAApC,KAAA,CAAAwC,MAAA,CAAkB;UAKjB/D,EAAA,CAAAI,SAAA,EAA0B;UAA1BJ,EAAA,CAAAY,UAAA,SAAA+C,GAAA,CAAA7C,SAAA,CAAAiD,MAAA,KAA0B;UAoB9B/D,EAAA,CAAAI,SAAA,EAAe;UAAfJ,EAAA,CAAAY,UAAA,SAAA+C,GAAA,CAAAnC,SAAA,CAAe;;;qBD3BX1B,YAAY,EAAAkE,EAAA,CAAAC,OAAA,EAAAD,EAAA,CAAAE,IAAA,EAAEnE,eAAe;MAAAoE,aAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}