{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { NavbarComponent } from '../navbar/navbar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/process.service\";\nimport * as i3 from \"../../services/activity.service\";\nimport * as i4 from \"../../services/gateway.service\";\nimport * as i5 from \"../../services/arc.service\";\nimport * as i6 from \"../../services/role.service\";\nimport * as i7 from \"../../services/auth.service\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/forms\";\nfunction ProcessDetailsComponent__svg_line_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"line\", 15);\n  }\n  if (rf & 2) {\n    const arc_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"x1\", ctx_r2.getNodeCenterX(arc_r2.sourceType, arc_r2.sourceId))(\"y1\", ctx_r2.getNodeCenterY(arc_r2.sourceType, arc_r2.sourceId))(\"x2\", ctx_r2.getNodeCenterX(arc_r2.targetType, arc_r2.targetId))(\"y2\", ctx_r2.getNodeCenterY(arc_r2.targetType, arc_r2.targetId));\n  }\n}\nfunction ProcessDetailsComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵlistener(\"click\", function ProcessDetailsComponent_div_23_Template_div_click_0_listener($event) {\n      const a_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onNodeClick($event, \"ACTIVITY\", a_r5));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const a_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"left\", a_r5.x || 40, \"px\")(\"top\", a_r5.y || 40, \"px\");\n    i0.ɵɵclassProp(\"selected\", ctx_r2.isSelected(\"ACTIVITY\", a_r5.id));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", a_r5.name || \"Activity\", \" \");\n  }\n}\nfunction ProcessDetailsComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵlistener(\"click\", function ProcessDetailsComponent_div_24_Template_div_click_0_listener($event) {\n      const g_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onNodeClick($event, \"GATEWAY\", g_r7));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const g_r7 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"left\", g_r7.x || 40, \"px\")(\"top\", g_r7.y || 40, \"px\");\n    i0.ɵɵclassProp(\"selected\", ctx_r2.isSelected(\"GATEWAY\", g_r7.id));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", g_r7.gatewayType, \" \");\n  }\n}\nfunction ProcessDetailsComponent_div_25_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProcessDetailsComponent_div_25_div_3_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.activityForm.name, $event) || (ctx_r2.activityForm.name = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProcessDetailsComponent_div_25_div_3_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.activityForm.activityType, $event) || (ctx_r2.activityForm.activityType = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\");\n    i0.ɵɵtext(8, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"textarea\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProcessDetailsComponent_div_25_div_3_Template_textarea_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.activityForm.description, $event) || (ctx_r2.activityForm.description = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProcessDetailsComponent_div_25_div_3_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.saveSelected());\n    });\n    i0.ɵɵtext(11, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProcessDetailsComponent_div_25_div_3_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.deleteSelected());\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.activityForm.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.activityForm.activityType);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.activityForm.description);\n  }\n}\nfunction ProcessDetailsComponent_div_25_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProcessDetailsComponent_div_25_div_4_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.gatewayForm.name, $event) || (ctx_r2.gatewayForm.name = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"select\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProcessDetailsComponent_div_25_div_4_Template_select_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.gatewayForm.gatewayType, $event) || (ctx_r2.gatewayForm.gatewayType = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(7, \"option\", 22);\n    i0.ɵɵtext(8, \"Exclusive\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 23);\n    i0.ɵɵtext(10, \"Parallel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 24);\n    i0.ɵɵtext(12, \"Inclusive\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"label\");\n    i0.ɵɵtext(14, \"Conditions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"textarea\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProcessDetailsComponent_div_25_div_4_Template_textarea_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.gatewayForm.conditions, $event) || (ctx_r2.gatewayForm.conditions = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProcessDetailsComponent_div_25_div_4_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.saveSelected());\n    });\n    i0.ɵɵtext(17, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProcessDetailsComponent_div_25_div_4_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.deleteSelected());\n    });\n    i0.ɵɵtext(19, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.gatewayForm.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.gatewayForm.gatewayType);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.gatewayForm.conditions);\n  }\n}\nfunction ProcessDetailsComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"h3\");\n    i0.ɵɵtext(2, \"Properties\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ProcessDetailsComponent_div_25_div_3_Template, 14, 3, \"div\", 19)(4, ProcessDetailsComponent_div_25_div_4_Template, 20, 3, \"div\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selected.type === \"ACTIVITY\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selected.type === \"GATEWAY\");\n  }\n}\nexport class ProcessDetailsComponent {\n  constructor(route, router, processService, activityService, gatewayService, arcService, roleService, authService) {\n    this.route = route;\n    this.router = router;\n    this.processService = processService;\n    this.activityService = activityService;\n    this.gatewayService = gatewayService;\n    this.arcService = arcService;\n    this.roleService = roleService;\n    this.authService = authService;\n    this.process = null;\n    this.activities = [];\n    this.gateways = [];\n    this.arcs = [];\n    this.roles = [];\n    this.activeTab = 'activities';\n    // Activity form\n    this.showActivityForm = false;\n    this.activityName = '';\n    this.activityType = '';\n    this.activityDescription = '';\n    this.activityRoleId = null;\n    this.editingActivity = null;\n    // Gateway form\n    this.showGatewayForm = false;\n    this.gatewayName = '';\n    this.gatewayType = 'EXCLUSIVE';\n    this.gatewayConditions = '';\n    this.editingGateway = null;\n    // Arc form\n    this.showArcForm = false;\n    this.arcSourceType = 'ACTIVITY';\n    this.arcSourceId = null;\n    this.arcTargetType = 'ACTIVITY';\n    this.arcTargetId = null;\n    this.editingArc = null;\n  }\n  ngOnInit() {\n    this.processId = Number(this.route.snapshot.paramMap.get('id'));\n    this.loadProcessDetails();\n    this.loadRoles();\n  }\n  loadProcessDetails() {\n    this.processService.getProcess(this.processId).subscribe({\n      next: data => this.process = data\n    });\n    this.loadActivities();\n    this.loadGateways();\n    this.loadArcs();\n  }\n  loadActivities() {\n    this.activityService.getActivitiesByProcess(this.processId).subscribe({\n      next: data => this.activities = data\n    });\n  }\n  loadGateways() {\n    this.gatewayService.getGatewaysByProcess(this.processId).subscribe({\n      next: data => this.gateways = data\n    });\n  }\n  loadArcs() {\n    this.arcService.getArcsByProcess(this.processId).subscribe({\n      next: data => this.arcs = data\n    });\n  }\n  loadRoles() {\n    const user = this.authService.getCurrentUser();\n    if (user) {\n      this.roleService.getRolesByCompany(user.companyId).subscribe({\n        next: data => this.roles = data\n      });\n    }\n  }\n  // Activity methods\n  showCreateActivityForm() {\n    this.showActivityForm = true;\n    this.editingActivity = null;\n    this.activityName = '';\n    this.activityType = '';\n    this.activityDescription = '';\n    this.activityRoleId = null;\n  }\n  showEditActivityForm(activity) {\n    this.showActivityForm = true;\n    this.editingActivity = activity;\n    this.activityName = activity.name;\n    this.activityType = activity.activityType;\n    this.activityDescription = activity.description;\n    this.activityRoleId = activity.roleId || null;\n  }\n  saveActivity() {\n    const activity = {\n      name: this.activityName,\n      activityType: this.activityType,\n      description: this.activityDescription,\n      roleId: this.activityRoleId || undefined\n    };\n    if (this.editingActivity) {\n      this.activityService.updateActivity(this.editingActivity.id, activity).subscribe({\n        next: () => {\n          this.loadActivities();\n          this.cancelActivityForm();\n        }\n      });\n    } else {\n      this.activityService.createActivity(this.processId, activity).subscribe({\n        next: () => {\n          this.loadActivities();\n          this.cancelActivityForm();\n        }\n      });\n    }\n  }\n  deleteActivity(activity) {\n    if (!confirm(`Delete activity \"${activity.name}\"?`)) return;\n    this.activityService.deleteActivity(activity.id).subscribe({\n      next: () => this.loadActivities()\n    });\n  }\n  cancelActivityForm() {\n    this.showActivityForm = false;\n    this.editingActivity = null;\n  }\n  // Gateway methods\n  showCreateGatewayForm() {\n    this.showGatewayForm = true;\n    this.editingGateway = null;\n    this.gatewayName = '';\n    this.gatewayType = 'EXCLUSIVE';\n    this.gatewayConditions = '';\n  }\n  showEditGatewayForm(gateway) {\n    this.showGatewayForm = true;\n    this.editingGateway = gateway;\n    this.gatewayName = gateway.name;\n    this.gatewayType = gateway.gatewayType;\n    this.gatewayConditions = gateway.conditions;\n  }\n  saveGateway() {\n    const gateway = {\n      name: this.gatewayName,\n      gatewayType: this.gatewayType,\n      conditions: this.gatewayConditions\n    };\n    if (this.editingGateway) {\n      this.gatewayService.updateGateway(this.editingGateway.id, gateway).subscribe({\n        next: () => {\n          this.loadGateways();\n          this.cancelGatewayForm();\n        }\n      });\n    } else {\n      this.gatewayService.createGateway(this.processId, gateway).subscribe({\n        next: () => {\n          this.loadGateways();\n          this.cancelGatewayForm();\n        }\n      });\n    }\n  }\n  deleteGateway(gateway) {\n    if (!confirm(`Delete gateway \"${gateway.name}\"?`)) return;\n    this.gatewayService.deleteGateway(gateway.id).subscribe({\n      next: () => this.loadGateways()\n    });\n  }\n  cancelGatewayForm() {\n    this.showGatewayForm = false;\n    this.editingGateway = null;\n  }\n  // Arc methods\n  showCreateArcForm() {\n    this.showArcForm = true;\n    this.editingArc = null;\n    this.arcSourceType = 'ACTIVITY';\n    this.arcSourceId = null;\n    this.arcTargetType = 'ACTIVITY';\n    this.arcTargetId = null;\n  }\n  showEditArcForm(arc) {\n    this.showArcForm = true;\n    this.editingArc = arc;\n    this.arcSourceType = arc.sourceType;\n    this.arcSourceId = arc.sourceId;\n    this.arcTargetType = arc.targetType;\n    this.arcTargetId = arc.targetId;\n  }\n  saveArc() {\n    const arc = {\n      sourceType: this.arcSourceType,\n      sourceId: this.arcSourceId,\n      targetType: this.arcTargetType,\n      targetId: this.arcTargetId\n    };\n    if (this.editingArc) {\n      this.arcService.updateArc(this.editingArc.id, arc).subscribe({\n        next: () => {\n          this.loadArcs();\n          this.cancelArcForm();\n        }\n      });\n    } else {\n      this.arcService.createArc(this.processId, arc).subscribe({\n        next: () => {\n          this.loadArcs();\n          this.cancelArcForm();\n        }\n      });\n    }\n  }\n  deleteArc(arc) {\n    if (!confirm('Delete this arc?')) return;\n    this.arcService.deleteArc(arc.id).subscribe({\n      next: () => this.loadArcs()\n    });\n  }\n  cancelArcForm() {\n    this.showArcForm = false;\n    this.editingArc = null;\n  }\n  goBack() {\n    this.router.navigate(['/processes']);\n  }\n  static {\n    this.ɵfac = function ProcessDetailsComponent_Factory(t) {\n      return new (t || ProcessDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProcessService), i0.ɵɵdirectiveInject(i3.ActivityService), i0.ɵɵdirectiveInject(i4.GatewayService), i0.ɵɵdirectiveInject(i5.ArcService), i0.ɵɵdirectiveInject(i6.RoleService), i0.ɵɵdirectiveInject(i7.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProcessDetailsComponent,\n      selectors: [[\"app-process-details\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 26,\n      vars: 4,\n      consts: [[\"canvas\", \"\"], [1, \"designer\"], [\"draggable\", \"false\", 1, \"sidebar\", 3, \"dragstart\"], [\"draggable\", \"true\", 1, \"palette-item\", \"activity\", 3, \"dragstart\"], [\"draggable\", \"true\", 1, \"palette-item\", \"gateway\", 3, \"dragstart\"], [1, \"hint\"], [1, \"canvas-wrapper\"], [1, \"canvas\", 3, \"dragover\", \"drop\", \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"edges\"], [\"stroke\", \"#999\", \"stroke-width\", \"2\", \"marker-end\", \"url(#arrow)\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"arrow\", \"markerWidth\", \"10\", \"markerHeight\", \"10\", \"refX\", \"10\", \"refY\", \"3\", \"orient\", \"auto\", \"markerUnits\", \"strokeWidth\"], [\"d\", \"M0,0 L0,6 L9,3 z\", \"fill\", \"#999\"], [\"class\", \"node activity-node\", 3, \"selected\", \"left\", \"top\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"node gateway-node\", 3, \"selected\", \"left\", \"top\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"inspector\", 4, \"ngIf\"], [\"stroke\", \"#999\", \"stroke-width\", \"2\", \"marker-end\", \"url(#arrow)\"], [1, \"node\", \"activity-node\", 3, \"click\"], [1, \"node\", \"gateway-node\", 3, \"click\"], [1, \"inspector\"], [4, \"ngIf\"], [3, \"ngModelChange\", \"ngModel\"], [3, \"click\"], [\"value\", \"EXCLUSIVE\"], [\"value\", \"PARALLEL\"], [\"value\", \"INCLUSIVE\"]],\n      template: function ProcessDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelement(0, \"app-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵlistener(\"dragstart\", function ProcessDetailsComponent_Template_div_dragstart_2_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView($event.dataTransfer == null ? null : $event.dataTransfer.setData(\"text/plain\", \"ACTIVITY\"));\n          });\n          i0.ɵɵelementStart(3, \"h3\");\n          i0.ɵɵtext(4, \"Palette\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 3);\n          i0.ɵɵlistener(\"dragstart\", function ProcessDetailsComponent_Template_div_dragstart_5_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onPaletteDragStart($event, \"ACTIVITY\"));\n          });\n          i0.ɵɵtext(6, \"Activity\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 4);\n          i0.ɵɵlistener(\"dragstart\", function ProcessDetailsComponent_Template_div_dragstart_7_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onPaletteDragStart($event, \"GATEWAY:EXCLUSIVE\"));\n          });\n          i0.ɵɵtext(8, \"Exclusive Gateway\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 4);\n          i0.ɵɵlistener(\"dragstart\", function ProcessDetailsComponent_Template_div_dragstart_9_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onPaletteDragStart($event, \"GATEWAY:PARALLEL\"));\n          });\n          i0.ɵɵtext(10, \"Parallel Gateway\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"div\", 4);\n          i0.ɵɵlistener(\"dragstart\", function ProcessDetailsComponent_Template_div_dragstart_11_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onPaletteDragStart($event, \"GATEWAY:INCLUSIVE\"));\n          });\n          i0.ɵɵtext(12, \"Inclusive Gateway\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\", 5);\n          i0.ɵɵtext(14, \"Tip: Hold Shift and click source, then click target to create an arc.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"div\", 6)(16, \"div\", 7, 0);\n          i0.ɵɵlistener(\"dragover\", function ProcessDetailsComponent_Template_div_dragover_16_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onCanvasDragOver($event));\n          })(\"drop\", function ProcessDetailsComponent_Template_div_drop_16_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onCanvasDrop($event));\n          })(\"click\", function ProcessDetailsComponent_Template_div_click_16_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onCanvasClick($event));\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(18, \"svg\", 8);\n          i0.ɵɵtemplate(19, ProcessDetailsComponent__svg_line_19_Template, 1, 4, \"line\", 9);\n          i0.ɵɵelementStart(20, \"defs\")(21, \"marker\", 10);\n          i0.ɵɵelement(22, \"path\", 11);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(23, ProcessDetailsComponent_div_23_Template, 2, 7, \"div\", 12)(24, ProcessDetailsComponent_div_24_Template, 2, 7, \"div\", 13);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(25, ProcessDetailsComponent_div_25_Template, 5, 2, \"div\", 14);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(19);\n          i0.ɵɵproperty(\"ngForOf\", ctx.arcs);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.activities);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.gateways);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selected);\n        }\n      },\n      dependencies: [CommonModule, i8.NgForOf, i8.NgIf, FormsModule, i9.NgSelectOption, i9.ɵNgSelectMultipleOption, i9.DefaultValueAccessor, i9.SelectControlValueAccessor, i9.NgControlStatus, i9.NgModel, NavbarComponent],\n      styles: [\".designer[_ngcontent-%COMP%] { display: grid; grid-template-columns: 220px 1fr 300px; height: calc(100vh - 60px); }\\n.sidebar[_ngcontent-%COMP%] { padding: 12px; border-right: 1px solid #ddd; overflow: auto; }\\n.palette-item[_ngcontent-%COMP%] { padding: 8px; margin-bottom: 8px; background: #f5f5f5; border: 1px solid #ddd; cursor: grab; }\\n.hint[_ngcontent-%COMP%] { font-size: 12px; color: #666; margin-top: 12px; }\\n.canvas-wrapper[_ngcontent-%COMP%] { position: relative; }\\n.canvas[_ngcontent-%COMP%] { position: relative; width: 100%; height: 100%; background: #fff; overflow: hidden; }\\n.edges[_ngcontent-%COMP%] { position: absolute; width: 100%; height: 100%; pointer-events: none; }\\n.node[_ngcontent-%COMP%] { position: absolute; min-width: 100px; min-height: 40px; padding: 8px; background: #e9f2ff; border: 2px solid #1976d2; border-radius: 6px; user-select: none; }\\n.activity-node[_ngcontent-%COMP%] { background: #e9f2ff; }\\n.gateway-node[_ngcontent-%COMP%] { background: #fff3e0; border-color: #f57c00; }\\n.node.selected[_ngcontent-%COMP%] { outline: 2px dashed #673ab7; }\\n.inspector[_ngcontent-%COMP%] { padding: 12px; border-left: 1px solid #ddd; overflow: auto; }\\n.inspector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .inspector[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .inspector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] { width: 100%; margin-bottom: 8px; }\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","NavbarComponent","i0","ɵɵelement","ɵɵelementStart","ɵɵlistener","ProcessDetailsComponent_div_23_Template_div_click_0_listener","$event","a_r5","ɵɵrestoreView","_r4","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","onNodeClick","ɵɵtext","ɵɵelementEnd","ɵɵstyleProp","x","y","ɵɵclassProp","isSelected","id","ɵɵadvance","ɵɵtextInterpolate1","name","ProcessDetailsComponent_div_24_Template_div_click_0_listener","g_r7","_r6","gatewayType","ɵɵtwoWayListener","ProcessDetailsComponent_div_25_div_3_Template_input_ngModelChange_3_listener","_r8","ɵɵtwoWayBindingSet","activityForm","ProcessDetailsComponent_div_25_div_3_Template_input_ngModelChange_6_listener","activityType","ProcessDetailsComponent_div_25_div_3_Template_textarea_ngModelChange_9_listener","description","ProcessDetailsComponent_div_25_div_3_Template_button_click_10_listener","saveSelected","ProcessDetailsComponent_div_25_div_3_Template_button_click_12_listener","deleteSelected","ɵɵtwoWayProperty","ProcessDetailsComponent_div_25_div_4_Template_input_ngModelChange_3_listener","_r9","gatewayForm","ProcessDetailsComponent_div_25_div_4_Template_select_ngModelChange_6_listener","ProcessDetailsComponent_div_25_div_4_Template_textarea_ngModelChange_15_listener","conditions","ProcessDetailsComponent_div_25_div_4_Template_button_click_16_listener","ProcessDetailsComponent_div_25_div_4_Template_button_click_18_listener","ɵɵtemplate","ProcessDetailsComponent_div_25_div_3_Template","ProcessDetailsComponent_div_25_div_4_Template","ɵɵproperty","selected","type","ProcessDetailsComponent","constructor","route","router","processService","activityService","gatewayService","arcService","roleService","authService","process","activities","gateways","arcs","roles","activeTab","showActivityForm","activityName","activityDescription","activityRoleId","editingActivity","showGatewayForm","gatewayName","gatewayConditions","editingGateway","showArcForm","arcSourceType","arcSourceId","arcTargetType","arcTargetId","editingArc","ngOnInit","processId","Number","snapshot","paramMap","get","loadProcessDetails","loadRoles","getProcess","subscribe","next","data","loadActivities","loadGateways","loadArcs","getActivitiesByProcess","getGatewaysByProcess","getArcsByProcess","user","getCurrentUser","getRolesByCompany","companyId","showCreateActivityForm","showEditActivityForm","activity","roleId","saveActivity","undefined","updateActivity","cancelActivityForm","createActivity","deleteActivity","confirm","showCreateGatewayForm","showEditGatewayForm","gateway","saveGateway","updateGateway","cancelGatewayForm","createGateway","deleteGateway","showCreateArcForm","showEditArcForm","arc","sourceType","sourceId","targetType","targetId","saveArc","updateArc","cancelArcForm","createArc","deleteArc","goBack","navigate","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","ProcessService","i3","ActivityService","i4","GatewayService","i5","ArcService","i6","RoleService","i7","AuthService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ProcessDetailsComponent_Template","rf","ctx","ProcessDetailsComponent_Template_div_dragstart_2_listener","_r1","dataTransfer","setData","ProcessDetailsComponent_Template_div_dragstart_5_listener","onPaletteDragStart","ProcessDetailsComponent_Template_div_dragstart_7_listener","ProcessDetailsComponent_Template_div_dragstart_9_listener","ProcessDetailsComponent_Template_div_dragstart_11_listener","ProcessDetailsComponent_Template_div_dragover_16_listener","onCanvasDragOver","ProcessDetailsComponent_Template_div_drop_16_listener","onCanvasDrop","ProcessDetailsComponent_Template_div_click_16_listener","onCanvasClick","ProcessDetailsComponent__svg_line_19_Template","ProcessDetailsComponent_div_23_Template","ProcessDetailsComponent_div_24_Template","ProcessDetailsComponent_div_25_Template","i8","NgForOf","NgIf","i9","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["C:\\Users\\exmat\\ProyectoFinal\\frontend\\src\\app\\components\\process-details\\process-details.component.ts","C:\\Users\\exmat\\ProyectoFinal\\frontend\\src\\app\\components\\process-details\\process-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ProcessService, Process } from '../../services/process.service';\r\nimport { ActivityService, Activity } from '../../services/activity.service';\r\nimport { GatewayService, Gateway } from '../../services/gateway.service';\r\nimport { ArcService, Arc } from '../../services/arc.service';\r\nimport { RoleService, Role } from '../../services/role.service';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { NavbarComponent } from '../navbar/navbar.component';\r\n\r\n@Component({\r\n  selector: 'app-process-details',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, NavbarComponent],\r\n  templateUrl: './process-details.component.html'\r\n})\r\nexport class ProcessDetailsComponent implements OnInit {\r\n  processId!: number;\r\n  process: Process | null = null;\r\n  activities: Activity[] = [];\r\n  gateways: Gateway[] = [];\r\n  arcs: Arc[] = [];\r\n  roles: Role[] = [];\r\n  \r\n  activeTab: 'activities' | 'gateways' | 'arcs' = 'activities';\r\n  \r\n  // Activity form\r\n  showActivityForm = false;\r\n  activityName = '';\r\n  activityType = '';\r\n  activityDescription = '';\r\n  activityRoleId: number | null = null;\r\n  editingActivity: Activity | null = null;\r\n  \r\n  // Gateway form\r\n  showGatewayForm = false;\r\n  gatewayName = '';\r\n  gatewayType: 'EXCLUSIVE' | 'PARALLEL' | 'INCLUSIVE' = 'EXCLUSIVE';\r\n  gatewayConditions = '';\r\n  editingGateway: Gateway | null = null;\r\n  \r\n  // Arc form\r\n  showArcForm = false;\r\n  arcSourceType = 'ACTIVITY';\r\n  arcSourceId: number | null = null;\r\n  arcTargetType = 'ACTIVITY';\r\n  arcTargetId: number | null = null;\r\n  editingArc: Arc | null = null;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private processService: ProcessService,\r\n    private activityService: ActivityService,\r\n    private gatewayService: GatewayService,\r\n    private arcService: ArcService,\r\n    private roleService: RoleService,\r\n    private authService: AuthService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.processId = Number(this.route.snapshot.paramMap.get('id'));\r\n    this.loadProcessDetails();\r\n    this.loadRoles();\r\n  }\r\n\r\n  loadProcessDetails() {\r\n    this.processService.getProcess(this.processId).subscribe({\r\n      next: (data) => this.process = data\r\n    });\r\n    this.loadActivities();\r\n    this.loadGateways();\r\n    this.loadArcs();\r\n  }\r\n\r\n  loadActivities() {\r\n    this.activityService.getActivitiesByProcess(this.processId).subscribe({\r\n      next: (data) => this.activities = data\r\n    });\r\n  }\r\n\r\n  loadGateways() {\r\n    this.gatewayService.getGatewaysByProcess(this.processId).subscribe({\r\n      next: (data) => this.gateways = data\r\n    });\r\n  }\r\n\r\n  loadArcs() {\r\n    this.arcService.getArcsByProcess(this.processId).subscribe({\r\n      next: (data) => this.arcs = data\r\n    });\r\n  }\r\n\r\n  loadRoles() {\r\n    const user = this.authService.getCurrentUser();\r\n    if (user) {\r\n      this.roleService.getRolesByCompany(user.companyId).subscribe({\r\n        next: (data) => this.roles = data\r\n      });\r\n    }\r\n  }\r\n\r\n  // Activity methods\r\n  showCreateActivityForm() {\r\n    this.showActivityForm = true;\r\n    this.editingActivity = null;\r\n    this.activityName = '';\r\n    this.activityType = '';\r\n    this.activityDescription = '';\r\n    this.activityRoleId = null;\r\n  }\r\n\r\n  showEditActivityForm(activity: Activity) {\r\n    this.showActivityForm = true;\r\n    this.editingActivity = activity;\r\n    this.activityName = activity.name;\r\n    this.activityType = activity.activityType;\r\n    this.activityDescription = activity.description;\r\n    this.activityRoleId = activity.roleId || null;\r\n  }\r\n\r\n  saveActivity() {\r\n    const activity: Activity = {\r\n      name: this.activityName,\r\n      activityType: this.activityType,\r\n      description: this.activityDescription,\r\n      roleId: this.activityRoleId || undefined\r\n    };\r\n\r\n    if (this.editingActivity) {\r\n      this.activityService.updateActivity(this.editingActivity.id!, activity).subscribe({\r\n        next: () => {\r\n          this.loadActivities();\r\n          this.cancelActivityForm();\r\n        }\r\n      });\r\n    } else {\r\n      this.activityService.createActivity(this.processId, activity).subscribe({\r\n        next: () => {\r\n          this.loadActivities();\r\n          this.cancelActivityForm();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  deleteActivity(activity: Activity) {\r\n    if (!confirm(`Delete activity \"${activity.name}\"?`)) return;\r\n    this.activityService.deleteActivity(activity.id!).subscribe({\r\n      next: () => this.loadActivities()\r\n    });\r\n  }\r\n\r\n  cancelActivityForm() {\r\n    this.showActivityForm = false;\r\n    this.editingActivity = null;\r\n  }\r\n\r\n  // Gateway methods\r\n  showCreateGatewayForm() {\r\n    this.showGatewayForm = true;\r\n    this.editingGateway = null;\r\n    this.gatewayName = '';\r\n    this.gatewayType = 'EXCLUSIVE';\r\n    this.gatewayConditions = '';\r\n  }\r\n\r\n  showEditGatewayForm(gateway: Gateway) {\r\n    this.showGatewayForm = true;\r\n    this.editingGateway = gateway;\r\n    this.gatewayName = gateway.name;\r\n    this.gatewayType = gateway.gatewayType;\r\n    this.gatewayConditions = gateway.conditions;\r\n  }\r\n\r\n  saveGateway() {\r\n    const gateway: Gateway = {\r\n      name: this.gatewayName,\r\n      gatewayType: this.gatewayType,\r\n      conditions: this.gatewayConditions\r\n    };\r\n\r\n    if (this.editingGateway) {\r\n      this.gatewayService.updateGateway(this.editingGateway.id!, gateway).subscribe({\r\n        next: () => {\r\n          this.loadGateways();\r\n          this.cancelGatewayForm();\r\n        }\r\n      });\r\n    } else {\r\n      this.gatewayService.createGateway(this.processId, gateway).subscribe({\r\n        next: () => {\r\n          this.loadGateways();\r\n          this.cancelGatewayForm();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  deleteGateway(gateway: Gateway) {\r\n    if (!confirm(`Delete gateway \"${gateway.name}\"?`)) return;\r\n    this.gatewayService.deleteGateway(gateway.id!).subscribe({\r\n      next: () => this.loadGateways()\r\n    });\r\n  }\r\n\r\n  cancelGatewayForm() {\r\n    this.showGatewayForm = false;\r\n    this.editingGateway = null;\r\n  }\r\n\r\n  // Arc methods\r\n  showCreateArcForm() {\r\n    this.showArcForm = true;\r\n    this.editingArc = null;\r\n    this.arcSourceType = 'ACTIVITY';\r\n    this.arcSourceId = null;\r\n    this.arcTargetType = 'ACTIVITY';\r\n    this.arcTargetId = null;\r\n  }\r\n\r\n  showEditArcForm(arc: Arc) {\r\n    this.showArcForm = true;\r\n    this.editingArc = arc;\r\n    this.arcSourceType = arc.sourceType;\r\n    this.arcSourceId = arc.sourceId;\r\n    this.arcTargetType = arc.targetType;\r\n    this.arcTargetId = arc.targetId;\r\n  }\r\n\r\n  saveArc() {\r\n    const arc: Arc = {\r\n      sourceType: this.arcSourceType,\r\n      sourceId: this.arcSourceId!,\r\n      targetType: this.arcTargetType,\r\n      targetId: this.arcTargetId!\r\n    };\r\n\r\n    if (this.editingArc) {\r\n      this.arcService.updateArc(this.editingArc.id!, arc).subscribe({\r\n        next: () => {\r\n          this.loadArcs();\r\n          this.cancelArcForm();\r\n        }\r\n      });\r\n    } else {\r\n      this.arcService.createArc(this.processId, arc).subscribe({\r\n        next: () => {\r\n          this.loadArcs();\r\n          this.cancelArcForm();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  deleteArc(arc: Arc) {\r\n    if (!confirm('Delete this arc?')) return;\r\n    this.arcService.deleteArc(arc.id!).subscribe({\r\n      next: () => this.loadArcs()\r\n    });\r\n  }\r\n\r\n  cancelArcForm() {\r\n    this.showArcForm = false;\r\n    this.editingArc = null;\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/processes']);\r\n  }\r\n}\r\n","<app-navbar></app-navbar>\r\n\r\n<div class=\"designer\">\r\n  <div class=\"sidebar\" (dragstart)=\"$event.dataTransfer?.setData('text/plain', 'ACTIVITY')\" draggable=\"false\">\r\n    <h3>Palette</h3>\r\n    <div class=\"palette-item activity\" draggable=\"true\"\r\n         (dragstart)=\"onPaletteDragStart($event, 'ACTIVITY')\">Activity</div>\r\n    <div class=\"palette-item gateway\" draggable=\"true\"\r\n         (dragstart)=\"onPaletteDragStart($event, 'GATEWAY:EXCLUSIVE')\">Exclusive Gateway</div>\r\n    <div class=\"palette-item gateway\" draggable=\"true\"\r\n         (dragstart)=\"onPaletteDragStart($event, 'GATEWAY:PARALLEL')\">Parallel Gateway</div>\r\n    <div class=\"palette-item gateway\" draggable=\"true\"\r\n         (dragstart)=\"onPaletteDragStart($event, 'GATEWAY:INCLUSIVE')\">Inclusive Gateway</div>\r\n    <div class=\"hint\">Tip: Hold Shift and click source, then click target to create an arc.</div>\r\n  </div>\r\n\r\n  <div class=\"canvas-wrapper\">\r\n    <div class=\"canvas\"\r\n         #canvas\r\n         (dragover)=\"onCanvasDragOver($event)\"\r\n         (drop)=\"onCanvasDrop($event)\"\r\n         (click)=\"onCanvasClick($event)\">\r\n\r\n      <svg class=\"edges\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <line *ngFor=\"let arc of arcs\"\r\n              [attr.x1]=\"getNodeCenterX(arc.sourceType, arc.sourceId)\"\r\n              [attr.y1]=\"getNodeCenterY(arc.sourceType, arc.sourceId)\"\r\n              [attr.x2]=\"getNodeCenterX(arc.targetType, arc.targetId)\"\r\n              [attr.y2]=\"getNodeCenterY(arc.targetType, arc.targetId)\"\r\n              stroke=\"#999\" stroke-width=\"2\" marker-end=\"url(#arrow)\" />\r\n        <defs>\r\n          <marker id=\"arrow\" markerWidth=\"10\" markerHeight=\"10\" refX=\"10\" refY=\"3\" orient=\"auto\" markerUnits=\"strokeWidth\">\r\n            <path d=\"M0,0 L0,6 L9,3 z\" fill=\"#999\" />\r\n          </marker>\r\n        </defs>\r\n      </svg>\r\n\r\n      <div *ngFor=\"let a of activities\"\r\n           class=\"node activity-node\"\r\n           [class.selected]=\"isSelected('ACTIVITY', a.id)\"\r\n           [style.left.px]=\"a.x || 40\"\r\n           [style.top.px]=\"a.y || 40\"\r\n           (click)=\"onNodeClick($event, 'ACTIVITY', a)\">\r\n        {{ a.name || 'Activity' }}\r\n      </div>\r\n\r\n      <div *ngFor=\"let g of gateways\"\r\n           class=\"node gateway-node\"\r\n           [class.selected]=\"isSelected('GATEWAY', g.id)\"\r\n           [style.left.px]=\"g.x || 40\"\r\n           [style.top.px]=\"g.y || 40\"\r\n           (click)=\"onNodeClick($event, 'GATEWAY', g)\">\r\n        {{ g.gatewayType }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"inspector\" *ngIf=\"selected\">\r\n    <h3>Properties</h3>\r\n    <div *ngIf=\"selected.type === 'ACTIVITY'\">\r\n      <label>Name</label>\r\n      <input [(ngModel)]=\"activityForm.name\" />\r\n      <label>Type</label>\r\n      <input [(ngModel)]=\"activityForm.activityType\" />\r\n      <label>Description</label>\r\n      <textarea [(ngModel)]=\"activityForm.description\"></textarea>\r\n      <button (click)=\"saveSelected()\">Save</button>\r\n      <button (click)=\"deleteSelected()\">Delete</button>\r\n    </div>\r\n    <div *ngIf=\"selected.type === 'GATEWAY'\">\r\n      <label>Name</label>\r\n      <input [(ngModel)]=\"gatewayForm.name\" />\r\n      <label>Type</label>\r\n      <select [(ngModel)]=\"gatewayForm.gatewayType\">\r\n        <option value=\"EXCLUSIVE\">Exclusive</option>\r\n        <option value=\"PARALLEL\">Parallel</option>\r\n        <option value=\"INCLUSIVE\">Inclusive</option>\r\n      </select>\r\n      <label>Conditions</label>\r\n      <textarea [(ngModel)]=\"gatewayForm.conditions\"></textarea>\r\n      <button (click)=\"saveSelected()\">Save</button>\r\n      <button (click)=\"deleteSelected()\">Delete</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n.designer { display: grid; grid-template-columns: 220px 1fr 300px; height: calc(100vh - 60px); }\r\n.sidebar { padding: 12px; border-right: 1px solid #ddd; overflow: auto; }\r\n.palette-item { padding: 8px; margin-bottom: 8px; background: #f5f5f5; border: 1px solid #ddd; cursor: grab; }\r\n.hint { font-size: 12px; color: #666; margin-top: 12px; }\r\n.canvas-wrapper { position: relative; }\r\n.canvas { position: relative; width: 100%; height: 100%; background: #fff; overflow: hidden; }\r\n.edges { position: absolute; width: 100%; height: 100%; pointer-events: none; }\r\n.node { position: absolute; min-width: 100px; min-height: 40px; padding: 8px; background: #e9f2ff; border: 2px solid #1976d2; border-radius: 6px; user-select: none; }\r\n.activity-node { background: #e9f2ff; }\r\n.gateway-node { background: #fff3e0; border-color: #f57c00; }\r\n.node.selected { outline: 2px dashed #673ab7; }\r\n.inspector { padding: 12px; border-left: 1px solid #ddd; overflow: auto; }\r\n.inspector input, .inspector textarea, .inspector select { width: 100%; margin-bottom: 8px; }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}